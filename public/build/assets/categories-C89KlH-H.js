import{r as l,a as m,j as e,H as N,t as i}from"./app-hqlT3em_.js";import{S as D}from"./layout-DOCj6wlf.js";import{B as s}from"./button-BydLLQCW.js";import{D as u,a as h,b as p,c as g,d as x,e as j}from"./dialog-CuGgtbxf.js";import{I as S}from"./input-QhRnVI49.js";import{L as K}from"./label-BlQpzmnJ.js";import{P as T}from"./plus-U0LhD_Pf.js";import{T as O}from"./trash-2-BFcbfu_y.js";/* empty css            */import"./index-DaZq-h7M.js";import"./index-CMWG4mbA.js";import"./index-CKv6rp-i.js";import"./index-yukMd9y_.js";import"./index-BZye3PMI.js";function J({categories:d}){const[f,r]=l.useState(!1),[k,n]=l.useState(!1),[o,c]=l.useState(null),t=m({name:""}),b=async a=>{a.preventDefault();try{if(!(await fetch("/categories",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({name:t.data.name})})).ok)throw new Error("Failed to create category");r(!1),t.reset(),i.success("Kategori berhasil ditambahkan!"),window.location.reload()}catch{i.error("Gagal menambahkan kategori")}},y=a=>{c(a),n(!0)},v=()=>{if(!o)return;m({}).delete(`/settings/categories/${o.id}`,{onSuccess:()=>{n(!1),c(null),i.success("Kategori berhasil dihapus!")},onError:()=>{i.error("Gagal menghapus kategori")}})};return e.jsxs(D,{children:[e.jsx(N,{title:"Kategori"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Kategori"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kelola kategori untuk mengorganisir transaksi Anda"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(s,{onClick:()=>r(!0),children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Tambah Kategori"]})}),e.jsx("div",{className:"space-y-2",children:d.length===0?e.jsx("div",{className:"rounded-lg border border-dashed p-8 text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada kategori. Klik tombol di atas untuk menambahkan."})}):d.map(a=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-sm font-medium text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:a.name})}),e.jsx(s,{variant:"ghost",size:"sm",onClick:()=>y(a),children:e.jsx(O,{className:"h-4 w-4 text-destructive"})})]},a.id))})]}),e.jsx(u,{open:f,onOpenChange:r,children:e.jsxs(h,{children:[e.jsxs(p,{children:[e.jsx(g,{children:"Tambah Kategori Baru"}),e.jsx(x,{children:"Buat kategori baru untuk mengorganisir transaksi Anda"})]}),e.jsxs("form",{onSubmit:b,children:[e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(K,{htmlFor:"category-name",children:"Nama Kategori"}),e.jsx(S,{id:"category-name",value:t.data.name,onChange:a=>t.setData("name",a.target.value),placeholder:"Misal: Makanan, Transport, Belanja",required:!0}),t.errors.name&&e.jsx("p",{className:"text-sm text-red-600",children:t.errors.name})]})}),e.jsxs(j,{children:[e.jsx(s,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Batal"}),e.jsx(s,{type:"submit",disabled:t.processing,children:"Simpan"})]})]})]})}),e.jsx(u,{open:k,onOpenChange:n,children:e.jsxs(h,{children:[e.jsxs(p,{children:[e.jsx(g,{children:"Hapus Kategori"}),e.jsxs(x,{children:['Apakah Anda yakin ingin menghapus kategori "',o?.name,'"? Transaksi yang menggunakan kategori ini tidak akan terhapus.']})]}),e.jsxs(j,{children:[e.jsx(s,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Batal"}),e.jsx(s,{type:"button",variant:"destructive",onClick:v,children:"Hapus"})]})]})})]})}export{J as default};
